syntax = "proto3";
package certificate;

import "github.com/infobloxopen/atlas-app-toolkit/rpc/resource/resource.proto";
import "github.com/infobloxopen/protoc-gen-gorm/options/gorm.proto";
import "github.com/infobloxopen/atlas-app-toolkit/query/collection_operators.proto";

option go_package = "github.com/tcvem/backend/pkg/pb;pb";

service CertificateService {
  option (gorm.server).autogen = true;
  rpc Create ( CreateCertficateRequest ) returns ( CreateCertficateResponse ) {}
  rpc Read ( ReadCertficateRequest ) returns ( ReadCertficateResponse ) {}
  rpc Update ( UpdateCertficateRequest ) returns ( UpdateCertficateResponse ) {}
  rpc List ( ListCertficateRequest ) returns ( ListCertficateResponse ) {}
  rpc Delete ( DeleteCertficateRequest ) returns  ( DeleteCertficateResponse ) {
      option (gorm.method).object_type = "Certficate";
  }
}

message Certficate {
    option (gorm.opts) = {
        ormable: true,
        multi_account: true
    };
    atlas.rpc.Identifier id = 1 [(gorm.field).tag = {type: "uuid" primary_key: true}];
    string name = 2;
    string host = 3;
    string port = 4;
    string notes = 5;
}

message CreateCertficateRequest {
    Certficate payload = 1;
}

message CreateCertficateResponse {
    Certficate result = 1;
}

message ReadCertficateRequest {
    atlas.rpc.Identifier id = 1;
}

message ReadCertficateResponse {
    Certficate result = 1;
}

message UpdateCertficateRequest {
    Certficate payload = 1;
}

message UpdateCertficateResponse {
    Certficate result = 1;
}

message DeleteCertficateRequest {
    atlas.rpc.Identifier id = 1;
}

message DeleteCertficateResponse {
}

message ListCertficateRequest {
    infoblox.api.Filtering filter = 1;
    infoblox.api.Sorting order_by = 2;
    infoblox.api.FieldSelection fields = 3;
    infoblox.api.Pagination paging = 4;
}

message ListCertficateResponse {
    repeated Certficate results = 1;
}
